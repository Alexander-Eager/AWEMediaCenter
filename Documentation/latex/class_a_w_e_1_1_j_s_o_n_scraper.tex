\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper}{\section{A\-W\-E\-:\-:J\-S\-O\-N\-Scraper Class Reference}
\label{class_a_w_e_1_1_j_s_o_n_scraper}\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
}


A metadata scraper based on J\-S\-O\-N files.  




{\ttfamily \#include $<$A\-W\-E\-J\-S\-O\-N\-Scraper.\-h$>$}

Inheritance diagram for A\-W\-E\-:\-:J\-S\-O\-N\-Scraper\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_a_w_e_1_1_j_s_o_n_scraper}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_ac6fe5d6f084e3b9ff5fdd1e5cd883351}{J\-S\-O\-N\-Scraper} (Q\-String name, Q\-String type)
\begin{DoxyCompactList}\small\item\em Construct a new J\-S\-O\-N-\/based scraper from the given name. \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a1b12fde072ef979911fcca4191c3c2a7}{prepare} (\hyperlink{class_a_w_e_1_1_global_settings}{Global\-Settings} $\ast$settings)
\begin{DoxyCompactList}\small\item\em Prepares the scraper by reading the scraper and type files. \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a883ec1b6814b4f192a28f32c8f47dd39}{scrape\-Data\-For\-File} (\hyperlink{class_a_w_e_1_1_media_item}{Media\-Item} $\ast$file, bool ask\-User, bool import, bool inherit\-Metadata)
\begin{DoxyCompactList}\small\item\em Retrieves metadata for a media file. \end{DoxyCompactList}\item 
virtual Q\-List$<$ \hyperlink{class_a_w_e_1_1_media_item}{Media\-Item} $\ast$ $>$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a1ccab4a9c36f8420222a75de1282eb2f}{scrape\-Data\-For\-File} (\hyperlink{class_a_w_e_1_1_folder}{Folder} $\ast$place\-In\-Me, \hyperlink{class_a_w_e_1_1_global_settings}{Global\-Settings} $\ast$global\-Settings, Q\-Dir file, bool ask\-User, bool import, bool inherit\-Metadata)
\begin{DoxyCompactList}\small\item\em Create a media item (or multiple if applicable) from a given file or folder. \end{DoxyCompactList}\item 
virtual void \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a0d1a05a4c7273ff1063518592d68501a}{deactivate} ()
\begin{DoxyCompactList}\small\item\em Destroys any used-\/up dynamic memory. \end{DoxyCompactList}\item 
virtual bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_abb4ca61ee617b473198a635c6f3ac57d}{is\-Valid} ()
\begin{DoxyCompactList}\small\item\em Determines if this is scraper can be used. \end{DoxyCompactList}\item 
virtual Q\-String \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a9a2613e43da4d36040f704d0481fff50}{get\-Name} ()
\begin{DoxyCompactList}\small\item\em Gets the name of the scraper. \end{DoxyCompactList}\item 
virtual Q\-String \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a95ff503c69c697cacc121182c4aa5ea4}{get\-Type} ()
\begin{DoxyCompactList}\small\item\em Gets the media type for this scraper. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_aefc9dd0f99a2adab9b595ef3b3582c8b}{execute\-Procedure} (\hyperlink{class_json_1_1_value}{Json\-::\-Value} \&procedure, Q\-Regular\-Expression\-Match backrefs, bool ask\-User, bool import, bool inherit\-Metadata)
\begin{DoxyCompactList}\small\item\em Execute a specific procedure from a {\ttfamily \char`\"{}procedures\char`\"{}} array. \end{DoxyCompactList}\item 
bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a575f13fe24c45ea6a06d61569ed22fe7}{use\-Match\-For\-Procedure} (\hyperlink{class_json_1_1_value}{Json\-::\-Value} \&procedure, Q\-Regular\-Expression\-Match backrefs, bool ask\-User, bool import, bool inherit\-Metadata)
\begin{DoxyCompactList}\small\item\em Helper function that sets properties and executes sub-\/procedures. \end{DoxyCompactList}\item 
void \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a339670a46a5b55b1c59b3ddba5986742}{import\-Files} (\hyperlink{class_json_1_1_value}{Json\-::\-Value} \&props)
\begin{DoxyCompactList}\small\item\em Helper function that imports the files in the given {\ttfamily \hyperlink{class_json_1_1_value}{Json\-::\-Value}}. \end{DoxyCompactList}\item 
int \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_afb2118a214f52055259d4e214c147cf9}{replace\-Backrefs} (Q\-String \&pseudo\-\_\-reg, Q\-Regular\-Expression\-Match backrefs)
\begin{DoxyCompactList}\small\item\em Replace the backreferences in {\ttfamily pseudo\-\_\-reg} with the references from {\ttfamily backrefs}. \end{DoxyCompactList}\item 
Q\-String \& \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a406666e30d724336826cdaae6ede7c8c}{get\-File\-Contents} (Q\-String file)
\begin{DoxyCompactList}\small\item\em Get the contents of a file, either from the already opened files or a new file. \end{DoxyCompactList}\item 
bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_ac83bcfb3d69108024c23ff49e8b8c274}{check\-Validity} ()
\begin{DoxyCompactList}\small\item\em Does a test run of the procedures to decide if this scraper is valid. \end{DoxyCompactList}\item 
bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_ac73167b683a6dec42cd84211e337dc46}{check\-Procedure\-Validity} (\hyperlink{class_json_1_1_value}{Json\-::\-Value} \&procedure, int cap\-Count)
\begin{DoxyCompactList}\small\item\em Does a test run of a procedure to decide if it is valid. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a5ca0c55dde4c469a4a09680257792d9d}{bool \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a5ca0c55dde4c469a4a09680257792d9d}{my\-Validity}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a5ca0c55dde4c469a4a09680257792d9d}

\begin{DoxyCompactList}\small\item\em Can this be used effectively? \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a0073f1a2fbbc412756c6ae2318972d39}{Q\-String \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a0073f1a2fbbc412756c6ae2318972d39}{my\-Name}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a0073f1a2fbbc412756c6ae2318972d39}

\begin{DoxyCompactList}\small\item\em Name of the scraper. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a53b36c31016a1c503630c41b1d5b7901}{Q\-String \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a53b36c31016a1c503630c41b1d5b7901}{my\-Type}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a53b36c31016a1c503630c41b1d5b7901}

\begin{DoxyCompactList}\small\item\em The type of the scraper. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a1a569b18d21b70f8777fe24605860efb}{\hyperlink{class_json_1_1_value}{Json\-::\-Value} \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a1a569b18d21b70f8777fe24605860efb}{my\-Scraper}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a1a569b18d21b70f8777fe24605860efb}

\begin{DoxyCompactList}\small\item\em The data determining how to scrape. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a72e4f32c2432abd2f3e9259d1227cb5a}{\hyperlink{class_json_1_1_value}{Json\-::\-Value} \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a72e4f32c2432abd2f3e9259d1227cb5a}{my\-Default\-Properties}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a72e4f32c2432abd2f3e9259d1227cb5a}

\begin{DoxyCompactList}\small\item\em The global settings. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a9672341060610ef66334d232f1319149}{\hyperlink{class_a_w_e_1_1_media_item}{Media\-Item} $\ast$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a9672341060610ef66334d232f1319149}{my\-Current\-File}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a9672341060610ef66334d232f1319149}

\begin{DoxyCompactList}\small\item\em The current file. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a00f08f99c83dbeadd7fdf44d6677ff47}{\hyperlink{class_a_w_e_1_1_folder}{Folder} $\ast$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a00f08f99c83dbeadd7fdf44d6677ff47}{my\-Current\-Folder}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a00f08f99c83dbeadd7fdf44d6677ff47}

\begin{DoxyCompactList}\small\item\em The folder contianing my\-Current\-File. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a91f5819597613553161fe9bf22581c31}{\hyperlink{class_a_w_e_1_1_global_settings}{Global\-Settings} $\ast$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a91f5819597613553161fe9bf22581c31}{my\-Global\-Settings}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a91f5819597613553161fe9bf22581c31}

\begin{DoxyCompactList}\small\item\em The global settings of \hyperlink{class_a_w_e_1_1_a_w_e_m_c}{A\-W\-E\-M\-C}. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a17088ef91b31db71172616f62b2d257c}{Q\-Hash$<$ Q\-String, Q\-String $>$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_a17088ef91b31db71172616f62b2d257c}{my\-Metadata\-Files}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a17088ef91b31db71172616f62b2d257c}

\begin{DoxyCompactList}\small\item\em Maps file onto file contents (for speed boost). \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_ade471d4c08caf575269396b9321278ab}{Q\-Hash$<$ Q\-String, Q\-String $>$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_ade471d4c08caf575269396b9321278ab}{my\-Inherited\-Properties}}\label{class_a_w_e_1_1_j_s_o_n_scraper_ade471d4c08caf575269396b9321278ab}

\begin{DoxyCompactList}\small\item\em Maps {\ttfamily my\-Current\-File} props onto {\ttfamily my\-Current\-Folder} props. \end{DoxyCompactList}\item 
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_af8181e179af7036bee14fa3f04651c99}{Q\-Set$<$ Q\-String $>$ \hyperlink{class_a_w_e_1_1_j_s_o_n_scraper_af8181e179af7036bee14fa3f04651c99}{my\-File\-Properties}}\label{class_a_w_e_1_1_j_s_o_n_scraper_af8181e179af7036bee14fa3f04651c99}

\begin{DoxyCompactList}\small\item\em Set of file properties. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
A metadata scraper based on J\-S\-O\-N files. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]Change {\ttfamily my\-Type} to be the mystical know-\/all configuration object.\end{DoxyRefDesc}


One way of defining a scraper is through a J\-S\-O\-N file interpreted by an instantiation of this class. To read more about the format of such a J\-S\-O\-N file, read this document.

For information on media types, read ../type/\-R\-E\-A\-D\-M\-E.md \char`\"{}this document\char`\"{}. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_ac6fe5d6f084e3b9ff5fdd1e5cd883351}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!J\-S\-O\-N\-Scraper@{J\-S\-O\-N\-Scraper}}
\index{J\-S\-O\-N\-Scraper@{J\-S\-O\-N\-Scraper}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{J\-S\-O\-N\-Scraper}]{\setlength{\rightskip}{0pt plus 5cm}J\-S\-O\-N\-Scraper\-::\-J\-S\-O\-N\-Scraper (
\begin{DoxyParamCaption}
\item[{Q\-String}]{name, }
\item[{Q\-String}]{type}
\end{DoxyParamCaption}
)}}\label{class_a_w_e_1_1_j_s_o_n_scraper_ac6fe5d6f084e3b9ff5fdd1e5cd883351}


Construct a new J\-S\-O\-N-\/based scraper from the given name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em name} & The name of the scraper. \\
\hline
\mbox{\tt in}  & {\em type} & The media type for this scraper. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_ac73167b683a6dec42cd84211e337dc46}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!check\-Procedure\-Validity@{check\-Procedure\-Validity}}
\index{check\-Procedure\-Validity@{check\-Procedure\-Validity}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{check\-Procedure\-Validity}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::check\-Procedure\-Validity (
\begin{DoxyParamCaption}
\item[{{\bf Json\-::\-Value} \&}]{procedure, }
\item[{int}]{cap\-Count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_ac73167b683a6dec42cd84211e337dc46}


Does a test run of a procedure to decide if it is valid. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000006}{Todo}]This entire function (which at the moment just returns {\ttfamily true})\end{DoxyRefDesc}



\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em procedure} & The procedure to check. \\
\hline
\mbox{\tt in}  & {\em cap\-Count} & The number of backrefs passed to the procedure.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if {\ttfamily procedure} is safe to use, {\ttfamily false} otherwise. 
\end{DoxyReturn}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_ac83bcfb3d69108024c23ff49e8b8c274}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!check\-Validity@{check\-Validity}}
\index{check\-Validity@{check\-Validity}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{check\-Validity}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::check\-Validity (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_ac83bcfb3d69108024c23ff49e8b8c274}


Does a test run of the procedures to decide if this scraper is valid. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000005}{Todo}]This entire function (which at the moment just returns {\ttfamily true})\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
{\ttfamily true} if this scraper is safe to use, {\ttfamily false} otherwise. 
\end{DoxyReturn}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a0d1a05a4c7273ff1063518592d68501a}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{deactivate}]{\setlength{\rightskip}{0pt plus 5cm}void J\-S\-O\-N\-Scraper\-::deactivate (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a0d1a05a4c7273ff1063518592d68501a}


Destroys any used-\/up dynamic memory. 

This helps with memory management. 

Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_a9a90e9974be775dff73c004ada209cb0}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_aefc9dd0f99a2adab9b595ef3b3582c8b}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!execute\-Procedure@{execute\-Procedure}}
\index{execute\-Procedure@{execute\-Procedure}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{execute\-Procedure}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::execute\-Procedure (
\begin{DoxyParamCaption}
\item[{{\bf Json\-::\-Value} \&}]{procedure, }
\item[{Q\-Regular\-Expression\-Match}]{backrefs, }
\item[{bool}]{ask\-User, }
\item[{bool}]{import, }
\item[{bool}]{inherit\-Metadata}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_aefc9dd0f99a2adab9b595ef3b3582c8b}


Execute a specific procedure from a {\ttfamily \char`\"{}procedures\char`\"{}} array. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em procedure} & The procedure to execute. \\
\hline
\mbox{\tt in}  & {\em backrefs} & The backreferences to use on the {\ttfamily \char`\"{}look in file\char`\"{}} and {\ttfamily \char`\"{}for\char`\"{}} tags. \\
\hline
\mbox{\tt in}  & {\em ask\-User} & {\ttfamily true} if the user wants semi-\/automatic scraping, {\ttfamily false} if completely automatic. \\
\hline
\mbox{\tt in}  & {\em import} & {\ttfamily true} if the user wants to import files, {\ttfamily false} if the user wants links. \\
\hline
\mbox{\tt in}  & {\em inherit\-Metadata} & {\ttfamily true} if designated metadata items should be inherited from the containing folder, {\ttfamily false} otherwise.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the procedure ran without issue, {\ttfamily false} otherwise. 
\end{DoxyReturn}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a406666e30d724336826cdaae6ede7c8c}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!get\-File\-Contents@{get\-File\-Contents}}
\index{get\-File\-Contents@{get\-File\-Contents}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{get\-File\-Contents}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String \& J\-S\-O\-N\-Scraper\-::get\-File\-Contents (
\begin{DoxyParamCaption}
\item[{Q\-String}]{file}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a406666e30d724336826cdaae6ede7c8c}


Get the contents of a file, either from the already opened files or a new file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em file} & The file to get the contents for.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The contents of {\ttfamily file}. 
\end{DoxyReturn}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a9a2613e43da4d36040f704d0481fff50}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!get\-Name@{get\-Name}}
\index{get\-Name@{get\-Name}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{get\-Name}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String J\-S\-O\-N\-Scraper\-::get\-Name (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a9a2613e43da4d36040f704d0481fff50}


Gets the name of the scraper. 

\begin{DoxyReturn}{Returns}
The name of the scraper. 
\end{DoxyReturn}


Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_ace0871b6861e04ec3ff39cba70606d29}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a95ff503c69c697cacc121182c4aa5ea4}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!get\-Type@{get\-Type}}
\index{get\-Type@{get\-Type}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{get\-Type}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String J\-S\-O\-N\-Scraper\-::get\-Type (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a95ff503c69c697cacc121182c4aa5ea4}


Gets the media type for this scraper. 

\begin{DoxyReturn}{Returns}
The media type name for the scraper. 
\end{DoxyReturn}


Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_a71f1b614a3196d5d8b68e3d216896e3d}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a339670a46a5b55b1c59b3ddba5986742}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!import\-Files@{import\-Files}}
\index{import\-Files@{import\-Files}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{import\-Files}]{\setlength{\rightskip}{0pt plus 5cm}void J\-S\-O\-N\-Scraper\-::import\-Files (
\begin{DoxyParamCaption}
\item[{{\bf Json\-::\-Value} \&}]{props}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a339670a46a5b55b1c59b3ddba5986742}


Helper function that imports the files in the given {\ttfamily \hyperlink{class_json_1_1_value}{Json\-::\-Value}}. 

This is used for the {\ttfamily \char`\"{}force copy\char`\"{}} and {\ttfamily \char`\"{}copy\char`\"{}} tags.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em props} & The properties that contain files to import. \\
\hline
\end{DoxyParams}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_abb4ca61ee617b473198a635c6f3ac57d}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!is\-Valid@{is\-Valid}}
\index{is\-Valid@{is\-Valid}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{is\-Valid}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::is\-Valid (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_abb4ca61ee617b473198a635c6f3ac57d}


Determines if this is scraper can be used. 

\begin{DoxyReturn}{Returns}
{\ttfamily true} if this scraper can be used successfully, {\ttfamily false} otherwise. 
\end{DoxyReturn}


Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_a06f9da8e43ac52378ec15fc849e42eb8}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a1b12fde072ef979911fcca4191c3c2a7}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!prepare@{prepare}}
\index{prepare@{prepare}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{prepare}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::prepare (
\begin{DoxyParamCaption}
\item[{{\bf Global\-Settings} $\ast$}]{settings}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a1b12fde072ef979911fcca4191c3c2a7}


Prepares the scraper by reading the scraper and type files. 

This helps with memory management.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em settings} & The ../settings/\-R\-E\-A\-D\-M\-E.md \char`\"{}global settings of A\-W\-E\-M\-C\char`\"{}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the scraper was able to prepare itself, {\ttfamily false} if an error occured and scraping should be aborted. Generally, a {\ttfamily false} result here means that the J\-S\-O\-N file was incorrectly written. 
\end{DoxyReturn}


Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_a92f9039770add633140b825bf41bc30a}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_afb2118a214f52055259d4e214c147cf9}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!replace\-Backrefs@{replace\-Backrefs}}
\index{replace\-Backrefs@{replace\-Backrefs}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{replace\-Backrefs}]{\setlength{\rightskip}{0pt plus 5cm}int J\-S\-O\-N\-Scraper\-::replace\-Backrefs (
\begin{DoxyParamCaption}
\item[{Q\-String \&}]{pseudo\-\_\-reg, }
\item[{Q\-Regular\-Expression\-Match}]{backrefs}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_afb2118a214f52055259d4e214c147cf9}


Replace the backreferences in {\ttfamily pseudo\-\_\-reg} with the references from {\ttfamily backrefs}. 

{\ttfamily pseudo\-\_\-reg} should be formatted according to \href{http://www.cplusplus.com/reference/regex/match_replace/}{\tt this function's} {\ttfamily fmt} parameter.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em pseudo\-\_\-reg} & The {\ttfamily Q\-String} with the references to replace. \\
\hline
\mbox{\tt in}  & {\em backrefs} & The backreferences to use.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The highest backref requested. 
\end{DoxyReturn}
\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a883ec1b6814b4f192a28f32c8f47dd39}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!scrape\-Data\-For\-File@{scrape\-Data\-For\-File}}
\index{scrape\-Data\-For\-File@{scrape\-Data\-For\-File}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{scrape\-Data\-For\-File}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::scrape\-Data\-For\-File (
\begin{DoxyParamCaption}
\item[{{\bf Media\-Item} $\ast$}]{file, }
\item[{bool}]{ask\-User, }
\item[{bool}]{import, }
\item[{bool}]{inherit\-Metadata}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a883ec1b6814b4f192a28f32c8f47dd39}


Retrieves metadata for a media file. 

To construct your J\-S\-O\-N file, you should use \href{http://jsoncpp.sourceforge.net}{\tt jsoncpp}.

{\ttfamily ask\-User} tells your scraper if the user wants to be given a list of choices for certain things. You should N\-O\-T ask the user for everything if {\ttfamily ask\-User} is true; only basic things like, \char`\"{}\-Which icon do you want to use?\char`\"{}

{\ttfamily import} specifies if the files you get should be copied into \hyperlink{class_a_w_e_1_1_a_w_e_m_c}{A\-W\-E\-M\-C}'s folders. Do N\-O\-T copy the media file.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000003}{Todo}]boolean flags\end{DoxyRefDesc}



\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in,out}  & {\em file} & The media file to get metadata for. \\
\hline
\mbox{\tt in}  & {\em ask\-User} & {\ttfamily true} if the user wants to be given choices, {\ttfamily false} otherwise. \\
\hline
\mbox{\tt in}  & {\em import} & {\ttfamily true} if the user wants to import metadata files, {\ttfamily false} otherwise. \\
\hline
\mbox{\tt in}  & {\em inherit\-Metadata} & {\ttfamily true} if designated metadata items should be inherited from the containing folder, {\ttfamily false} otherwise.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the scraper was able to get the metadata, {\ttfamily false} if it was not. 
\end{DoxyReturn}


Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_a14f10736d12ada980b4c64a906ebe9a6}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a1ccab4a9c36f8420222a75de1282eb2f}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!scrape\-Data\-For\-File@{scrape\-Data\-For\-File}}
\index{scrape\-Data\-For\-File@{scrape\-Data\-For\-File}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{scrape\-Data\-For\-File}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ {\bf Media\-Item} $\ast$ $>$ J\-S\-O\-N\-Scraper\-::scrape\-Data\-For\-File (
\begin{DoxyParamCaption}
\item[{{\bf Folder} $\ast$}]{place\-In\-Me, }
\item[{{\bf Global\-Settings} $\ast$}]{global\-Settings, }
\item[{Q\-Dir}]{file, }
\item[{bool}]{ask\-User, }
\item[{bool}]{import, }
\item[{bool}]{inherit\-Metadata}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a1ccab4a9c36f8420222a75de1282eb2f}


Create a media item (or multiple if applicable) from a given file or folder. 

To construct your J\-S\-O\-N file, you should use \href{http://jsoncpp.sourceforge.net}{\tt Json\-Cpp}.

{\ttfamily ask\-User} tells your scraper if the user wants to be given a list of choices for certain things. You should N\-O\-T ask the user for everything if {\ttfamily ask\-User} is true; only basic things like, \char`\"{}\-Which icon do you want to use?\char`\"{}

{\ttfamily import} specifies if the files you get should be copied into \hyperlink{class_a_w_e_1_1_a_w_e_m_c}{A\-W\-E\-M\-C}'s folders. Do N\-O\-T copy the media file.

{\ttfamily inherit\-Metadata} determines if data that could be inherited from the folder should be.

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000004}{Todo}]boolean flags\end{DoxyRefDesc}



\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em place\-In\-Me} & The {\ttfamily \hyperlink{class_a_w_e_1_1_folder}{Folder}} to put the created items in. \\
\hline
\mbox{\tt in}  & {\em file} & The file or folder to get media items for. \\
\hline
\mbox{\tt in}  & {\em global\-Settings} & The global settings of \hyperlink{class_a_w_e_1_1_a_w_e_m_c}{A\-W\-E\-M\-C}. \\
\hline
\mbox{\tt in}  & {\em ask\-User} & {\ttfamily true} if the user wants to be given choices, {\ttfamily false} otherwise. \\
\hline
\mbox{\tt in}  & {\em import} & {\ttfamily true} if the user wants to import metadata files, {\ttfamily false} otherwise. \\
\hline
\mbox{\tt in}  & {\em inherit\-Metadata} & {\ttfamily true} if designated metadata items should be inherited from the containing folder, {\ttfamily false} otherwise.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of media items for the given file. The list is empty if the file does not match. 
\end{DoxyReturn}


Implements \hyperlink{class_a_w_e_1_1_metadata_scraper_af3708cc05181299d7c5b37afc1568b3d}{A\-W\-E\-::\-Metadata\-Scraper}.

\hypertarget{class_a_w_e_1_1_j_s_o_n_scraper_a575f13fe24c45ea6a06d61569ed22fe7}{\index{A\-W\-E\-::\-J\-S\-O\-N\-Scraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}!use\-Match\-For\-Procedure@{use\-Match\-For\-Procedure}}
\index{use\-Match\-For\-Procedure@{use\-Match\-For\-Procedure}!AWE::JSONScraper@{A\-W\-E\-::\-J\-S\-O\-N\-Scraper}}
\subsubsection[{use\-Match\-For\-Procedure}]{\setlength{\rightskip}{0pt plus 5cm}bool J\-S\-O\-N\-Scraper\-::use\-Match\-For\-Procedure (
\begin{DoxyParamCaption}
\item[{{\bf Json\-::\-Value} \&}]{procedure, }
\item[{Q\-Regular\-Expression\-Match}]{backrefs, }
\item[{bool}]{ask\-User, }
\item[{bool}]{import, }
\item[{bool}]{inherit\-Metadata}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{class_a_w_e_1_1_j_s_o_n_scraper_a575f13fe24c45ea6a06d61569ed22fe7}


Helper function that sets properties and executes sub-\/procedures. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em procedure} & The procedure describing the properties and sub-\/procedures. \\
\hline
\mbox{\tt in}  & {\em backrefs} & The backreferences to use on the properties tags. \\
\hline
\mbox{\tt in}  & {\em ask\-User} & {\ttfamily true} if the user wants semi-\/automatic scraping, {\ttfamily false} if completely automatic. \\
\hline
\mbox{\tt in}  & {\em import} & {\ttfamily true} if the user wants to import files, {\ttfamily false} if the user wants links. \\
\hline
\mbox{\tt in}  & {\em inherit\-Metadata} & {\ttfamily true} if designated metadata items should be inherited from the containing folder, {\ttfamily false} otherwise.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily true} if the procedure ran without issue, {\ttfamily false} otherwise. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Users/\-Alex/github/\-A\-W\-E\-Media\-Center/\-Code/scraper/A\-W\-E\-J\-S\-O\-N\-Scraper.\-h\item 
/\-Users/\-Alex/github/\-A\-W\-E\-Media\-Center/\-Code/scraper/A\-W\-E\-J\-S\-O\-N\-Scraper.\-cpp\end{DoxyCompactItemize}
